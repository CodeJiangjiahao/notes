Python 数据分析与挖掘实战(第二版)


Python 数据分析与挖掘实战

四:  数据预处理
	A: 数据清洗
			数据预处理的4个主要任务: 数据清洗, 数据集成, 数据变换, 数据规约.
			数据清洗主要介绍了对缺失值和异常值的处理, 处理缺失值用(删除记录,数据插补,不处理方式), 处理异常值用(删除异常值,不处理,平均值修正,视为缺失值等); 
			数据集成是合并多个数据源中的数据, 并存放到一个数据存储的过程, UI该部分的从实体识别的问题和冗余属性两个方面进行;
			数据变换介绍了如何从不同的应用角度对已有属性进行函数变换;
			数据规约从属性规约和数值规约介绍了, 使得挖掘的效率的得到了提升, 为之后的挖掘建模提供了良好的数据基础
		a: 缺失值处理
			1: 删除记录
			2: 数据插补
				常见插补方法: 均值/中位数/众数插补;
							  使用固定值/期望值;
							  回归方法(根据已有数据和其他与其有关变量等建立拟合模型来预测);
							  插值法(利用已知点建立合适的插值函数.)  eg: 拉格朗日函数
			3: 不处理
		b: 异常值处理
				在处理时, 有些异常值可能蕴含有用信息, 需视情况而定.
				在数据量较多的时候我们不可能人工分辨, 这里受用 describe 函数查看数据基本情况, 并借助箱线图进行监测
			1: 删除含有异常值的记录
			2: 视为缺失值
			3: 平均值修正
			4: 不处理
	B: 数据集成
		a: 实体识别
			1: 同名异义
			2: 异名同义
			3: 单位不同意
		b: 冗余属性识别, 可利用相关性分析对属性进行检测
	C: 数据变换
		a: 简单函数变换
			1: 平方, 开方, 取对数, 差分运算
		b: 规范化
			1: 最小-最大规范化
			2: 零-均值规范化
			3: 小数定标规范化
		c: 连续属性离散化
				在数据的取值范围内设定若干个离散的划分点, 将取值范围划分为若干个离散点, 将取值范围划分为一些离散化的区间, 最后用不同的符号或整数值代表落在每个子区间中的数据值. 
				即确定分类数及将连续属性值映射到这些分类值
			1: 等宽法: 类似于制作频率分布表
			2: 等频法: 将相同数量的记录放进每个区间
			3: 基于聚类分析方法: 首先将连续属性的值用聚类算法进行聚类, 然后将得到的蔟进行处理, 合并到一个蔟的连续属性值并做同一标记. 需用户指定蔟个数, 决定产生的区间数
		d: 数据规约
			1: 属性规约
				1) 合并属性
				2) 逐步向前选择
				3) 向后删除
				4) 决策树归纳
				5) 主成分分析: 是一种用于连续属性的数据降维方法, 它够早了原始数据的一个正交变换, 新空间的基底去除了原始空间基底下数据的相关性, 只需使用少数新变量就能够解释原始数据中的大部分变异. 
								应用中通常是选出比原始变量个数少, 能解释大部分数据中的变量的几个新变量, 即所谓主成分, 来代替原始变量进行建模
			2: 数值规约
					数值规约指通过选择替代的, 较小的数据来减少数据量, 包括有参数方法和无参数方法两类
				
五: 挖掘建模
		经过数据探索与数据预处理, 得到了可以直接建模的数据, 根据挖掘目标和数据形式可以建立(分类与预测,聚类分析,关联规则,时序模式和偏差检测等模型)
	A: 分类与预测
			分类和预测是预测问题的两种主要类型, 分类主要是预测分类标号(离散属性), 而预测主要是建立连续值函数模型, 预测给定自变量对应的因变量的值
		a: 实现过程
			1: 分类是构造一个分类模型, 输入样本的属性值, 输出对应的类别, 将每个样本映射到先定义的类别. 分类模型建立也在已有标记的数据集上, 模型在已有样本上的准确率可以方便的计算, 属于有监督的学习
			2: 预测是指建立两种及以上变量间相互依赖的函数模型, 然后进行预测或者控制
			3: 实现过程
		b: 常见的分类与预测算法
			1: 回归分析
			2: 决策树
			3: 人工神经网络
			4: 贝叶斯网络
			5: 支持向量机
		c: 回归分析
			1: 回归分析研究范围
				回归分析 -> 线性回归 -> 多元线性回归
									 -> 多个因变量与多个自变量的回归
						 ->	回归诊断 -> 如何从数据推断回归模型基本假设的合理性
									 -> 基本假设不成立时如何对数据进行修正
									 -> 判断回归方程拟合的效果
									 -> 选择回归函数的形式
						 -> 回归变量选择 -> 自变量选择的标准
										 -> 逐步回归分析法
						 -> 参数估计方法改进 -> 偏最小二乘回归
											 -> 岭回归
											 -> 主成分回归
						 -> 非线性回归	-> 一元线性回归
										-> 分段回归
										-> 多元线性回归
						 -> 含有定性变量的回归 	-> 自变量含有定性变量的情况
												-> 因变量含有定性变量的情况
			2: 回归分析常用模型
										适应条件							算法描述	
				线性回归		因变量与自变量是线性关系			对一个或多个自变量和因变量之间的线性关系进行建模, 可用最小二乘法求解模型系数
				非线性回归		因变量与自变量不是线性关系			对一个或多个自变量和因变量之间的线性关系进行建模, 如果非线性关系可以通过简单的函数变换转化为线性关系, 用线性回归求解; 若不能, 用非线性最小二乘法求解
				Logistic 回归	因变量一般有 1,0 两种取值			是广义线性回归模型的特例, 利用 Logistic 函数将因变量的取值范围控制在 0~1 之间, 表示取值为 1 的概率
				岭回归			参与建模的自变量之间有多重共线性	是一种改进最小二乘法估计的方法
				主成分回归		残余建模的自变量之间有多重共线性	主成分回归是根据主成分分析的思想提出的, 是对最小二乘法的一种改进, 它是参数估计的一种有偏估计, 可以清除自变量之外的多重共线性
		d: 决策树
				//ID3 算法只适用于离散的描述属性, 而 C4.5 算法技能处理离散, 也能处理连续的描述属性
			1: ID3 算法: 核心是在决策树的各级节点上, 使用信息增益方法作为属性的选择标准, 来帮助确定生成每个节点时所应采用的核实属性
			2: C4.5 算法: C4.5 决策树生成算法相对于 ID3 算法的重要改进是使用信息增益律来选择节点属性, 
			3: CART 算法: CART 算法是一种十分有效的, 非参数分类和回归方法, 通过构建树,修剪树,评估树来构建一个二叉树, 当终结点是连续变量时, 该树为回归树, 当终结点是分类变量, 该树为分类树
		e: 


代码清单

//第3章 数据探索
//3.1 数据质量分析
p42		3-1 使用 describe() 方法查看数据的基本情况
p42		3-2 餐饮日销额数据异常检测
//3.2 数据特征分析
p46		3-3 "捞起生鱼片"的季度销售情况
p47		3-4 不同菜品在某段时间的销售量分布情况
p50		3-5	不同部门各月份的销售对比情况
p53		3-6 餐饮销量数据统计量分析
p54		3-7 某单位日用电量预测分析
p57		3-8 绘制菜品盈利数据帕累托图
p61		3-9 餐饮销量数据相关性分析
//3.3 Python 主要数据探索函数
p64		3-10 计算两个列向量的相关系数
p65		3-11 计算6×5随机矩阵的协方差矩阵
p65		3-12 计算6×5随机矩阵的偏度(三阶矩)/峰度(四阶矩)
p66		3-13 6×5随机矩阵的基本统计量
p67		3-14 pandas累积统计特征函数, 滚动计算统计特征函数示例
p68		3-15 绘图之前需要加载的代码
p68		3-16 绘制一条蓝色的正弦虚线
p69		3-17 绘制饼图
p70		3-18 绘制二维条形直方图
p70		3-19 绘制箱型图
p71		3-20 使用plot(logy = True)函数进行绘图
p73		3-21 绘制误差棒图


//第4章 数据预处理
//4.1 数据清洗
p79		4-1 用拉格朗日插值法对缺失值进行插补
//4.2 数据集成
p83		4-2 数据规范化
p85		4-3 数据离散化
p87		4-4 线损率属性构造
p91		4-5 小波变换特征提取代码
//4.3 数据归约
p94		4-6 主成分分析降维
p95		4-7 计算成分结果
p100	4-8 求向量 D 中的单值元素, 并返回相关索引
p101	4-9 对一个10×4维的随机矩阵进行主成分分析


//第5章 挖掘建模
//5.1 分类与预测
p108	5-1 逻辑回归
p113	5-2 使用 ID3 决策树算法预测销量高低
p119	5-3 使用神经网络算法预测销量高低
//5.2 聚类分析
p129	5-4 使用 K-Means 算法聚类消费行为特征数据
p130	5-5 绘制聚类后的概率密度图
p134	5-6 用 TSNE 进行数据降维并展示聚类结果
//5.3 关联规则
p137	5-7 使用 Apriori 算法挖掘菜品订单关联规则
//5.4 时序模式
p154	5-8 实现 ARIMA 模型
//5.5 离群点检测
p166	5-9 离散点检测


